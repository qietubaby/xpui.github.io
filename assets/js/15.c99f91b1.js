(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{354:function(t,e,i){},355:function(t,e,i){},399:function(t,e,i){"use strict";i(354)},400:function(t,e,i){"use strict";i(355)},421:function(t,e,i){"use strict";i.r(e);var n=i(0),s=i(326),c=(i(312),i(162),{name:"contract",components:{gButton:i(315).a},props:{show:Boolean,title:{type:String,default:"合同预览"},previewUrl:{type:String,default:""},btnText:{type:String,default:"已阅读并同意协议"},timeCount:{type:Number,default:15},contractList:{type:Array},canIClick:{type:Boolean,default:!1},paddingLeftRight:{type:String,default:"0"},loading:{type:Boolean,default:!1}},data:function(){return{timeId:null,isDisabled:!0,timeNum:null,baseClass:"ui-contract-dialog",cIndex:0,record:0,hasRead:[]}},watch:{show:function(){this.forbinScroll()}},computed:{diaLogStyle:function(){var t=this.contractList&&this.contractList.length>1?960:800;return"width:".concat(t,"px;margin-left:-").concat(t/2,"px")},btnTextInside:function(){return this.contractList&&!this.canIClick?this.cIndex===this.contractList.length-1?this.btnText:"已阅读，继续下一份":this.btnText},previewUrlInside:function(){return this.contractList&&this.contractList.length?this.contractList[this.cIndex].previewUrl:this.previewUrl}},methods:{close:function(){this.$emit("update:show",!1)},confirm:function(){this.contractList&&!this.canIClick&&this.cIndex<this.contractList.length-1?(this.hasRead[this.record]=1,this.cIndex++,this.record++,this.hasRead[this.record]=1):(this.cIndex=0,this.$emit("confirm"),this.close())},forbinScroll:function(){document.body.style.overflow=this.show?"hidden":""},handleCountDown:function(){var t=this;clearInterval(this.timeId),this.isDisabled=!0,this.timeId=setInterval((function(){t.timeNum--,t.timeNum<=0&&(clearInterval(t.timeId),t.isDisabled=!1,t.timeNum=0)}),1e3),this.$once("hook:beforeDestroy",(function(){return clearInterval(t.timeId)}))},switchContract:function(t){if(!this.canIClick){if(t>this.record)return;this.cIndex=t}this.cIndex=t}},mounted:function(){this.timeNum=this.timeCount,this.handleCountDown()}}),a=(i(399),i(41)),o=Object(a.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("section",{class:t.baseClass,style:t.diaLogStyle},[i("div",{class:t.baseClass+"__head"},[i("h4",{class:t.baseClass+"__head--title"},[t._v(t._s(t.title))]),t._v(" "),i("i",{class:t.baseClass+"__head--icon go-icon-error-s",on:{click:t.close}})]),t._v(" "),i("div",{class:t.baseClass+"__body"},[t.contractList&&t.contractList.length>1?i("div",{class:t.baseClass+"__nav mt-8"},[i("ul",{class:t.baseClass+"__nav-list"},t._l(t.contractList,(function(e,n){return i("li",{key:n,class:t.cIndex===n?"active":"",style:"cursor:"+(t.canIClick||t.hasRead[n]?"pointer":"not-allowed")+";",on:{click:function(e){return t.switchContract(n)}}},[t._v("\n          "+t._s(e.contractName)+"\n        ")])})),0)]):t._e(),t._v(" "),i("div",{class:t.baseClass+"__iframewrap",style:"border-left:"+(t.contractList&&t.contractList.length>1?"1px solid #f0f0f0":"none")+";"},[i("div",{class:t.baseClass+"__iframe",style:"padding:0 "+t.paddingLeftRight+"px;"},[t.previewUrlInside?i("iframe",{ref:"iframeWrap",attrs:{src:t.previewUrlInside,frameborder:"0"}}):t._e()]),t._v(" "),i("div",{class:t.baseClass+"__foot"},[t._t("btns",(function(){return[i("gButton",{class:t.baseClass+"__foot--btn",attrs:{disabled:t.isDisabled,loading:t.loading},on:{click:t.confirm}},[t._v(t._s(t.timeNum?"("+t.timeNum+")":"")+t._s(t.btnTextInside))])]}))],2)])])]):t._e()}),[],!1,null,"4cbc79ab",null).exports;n.a.use(s.a);var r={name:"contractDemo",components:{uiContractDialog:o},data:function(){return{show:!1,contractLoading:!1,contractPreviewList:[{previewUrl:"https://cn.vuejs.org/",contractName:"购房合同"},{previewUrl:"https://router.vuejs.org/zh/",contractName:"装修协议"},{previewUrl:"https://cli.vuejs.org/zh/",contractName:"个人房屋租赁合同"}]}},methods:{dislogCallback:function(){this.checked=!0,this.$toast("您点击了同意合同按钮",{position:"middle"})}}},l=(i(400),Object(a.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"contract-page"},[i("input",{attrs:{type:"checkbox"},domProps:{checked:t.checked}}),t._v(" 点击合同标题弹出合同内容"),t._l(t.contractPreviewList,(function(e){return i("span",{key:e.previewUrl,on:{click:function(e){t.show=!0}}},[t._v("《"+t._s(e.contractName)+"》")])}))],2),t._v(" "),i("ui-contract-dialog",{attrs:{show:t.show,btnText:"全部已阅读并同意协议",timeCount:0,contractList:t.contractPreviewList,canIClick:!1,paddingLeftRight:"24",loading:t.contractLoading},on:{"update:show":function(e){t.show=e},confirm:t.dislogCallback}})],1)}),[],!1,null,"536ee827",null));e.default=l.exports}}]);